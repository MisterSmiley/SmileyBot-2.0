const yInfo = require('youtube-info');
const fetchSongData = require('../functions/music/fetchSongData.js');
const Discord = require('discord.js');

exports.run = async (client, msg, args) => {
    let searchTerms = args.join(' ');
    let videoId = await fetchSongData(client, msg, searchTerms);
    if (videoId) {
        let yInfo = await InfoFetcher(videoId);
        const embed = new Discord.RichEmbed()
            .setColor(0x00ABE0)
            .setAuthor(msg.author.username, client.user.displayAvatarURL)
            .setThumbnail(yInfo.thumbnailUrl)
            .addField('Song Info', `**ğŸ“¥ Uploaded By:** ${yInfo.owner}\n**ğŸ• Duration:** ${(yInfo.duration / 60).toFixed(2)} Minutes\n**ğŸ’» Published:** ${yInfo.datePublished}`);
            .addField('Song Stats', `**ğŸ‘€ Views:** ${yInfo.views}\n**ğŸ‘ Likes:** ${yInfo.likeCount}\n**ğŸ‘ Dislikes:** ${yInfo.dislike.Count}\n**ğŸ“– Genres:** ${yInfo.genre}`
        msg.channel.send({embed});
        }
      };
